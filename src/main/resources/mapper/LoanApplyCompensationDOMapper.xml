<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yunche.loan.mapper.LoanApplyCompensationDOMapper">
    <resultMap id="BaseResultMap" type="com.yunche.loan.domain.entity.LoanApplyCompensationDO">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="order_id" property="orderId" jdbcType="BIGINT"/>
        <result column="curr_arrears" property="currArrears" jdbcType="DECIMAL"/>
        <result column="loan_banlance" property="loanBanlance" jdbcType="DECIMAL"/>
        <result column="advances_banlance" property="advancesBanlance" jdbcType="DECIMAL"/>
        <result column="overdue_days" property="overdueDays" jdbcType="INTEGER"/>
        <result column="overdue_number" property="overdueNumber" jdbcType="INTEGER"/>
        <result column="advances_number" property="advancesNumber" jdbcType="INTEGER"/>
        <result column="risk_taking_ratio" property="riskTakingRatio" jdbcType="DECIMAL"/>
        <result column="compensation_amount" property="compensationAmount" jdbcType="DECIMAL"/>
        <result column="compensation_interest" property="compensationInterest" jdbcType="DECIMAL"/>
        <result column="compensation_cause" property="compensationCause" jdbcType="VARCHAR"/>
        <result column="apply_compensation_date" property="applyCompensationDate" jdbcType="TIMESTAMP"/>
        <result column="refund_apply_account_id" property="refundApplyAccountId" jdbcType="BIGINT"/>
        <result column="receive_bank" property="receiveBank" jdbcType="VARCHAR"/>
        <result column="receive_car_number" property="receiveCarNumber" jdbcType="VARCHAR"/>
        <result column="receive_account" property="receiveAccount" jdbcType="VARCHAR"/>
        <result column="review_date" property="reviewDate" jdbcType="TIMESTAMP"/>
        <result column="review_operator" property="reviewOperator" jdbcType="VARCHAR"/>
        <result column="partner_compensation_operator" property="partnerCompensationOperator" jdbcType="VARCHAR"/>
        <result column="partner_operation_date" property="partnerOperationDate" jdbcType="TIMESTAMP"/>
        <result column="partner_compensation_amount" property="partnerCompensationAmount" jdbcType="DECIMAL"/>
        <result column="partner_dc_review_operator" property="partnerDcReviewOperator" jdbcType="VARCHAR"/>
        <result column="partner_dc_review_date" property="partnerDcReviewDate" jdbcType="TIMESTAMP"/>
        <result column="status" property="status" jdbcType="TINYINT"/>
        <result column="remark" property="remark" jdbcType="VARCHAR"/>
        <result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP"/>
        <result column="gmt_modify" property="gmtModify" jdbcType="TIMESTAMP"/>
    </resultMap>
    <sql id="Base_Column_List">
    id, order_id, curr_arrears, loan_banlance, advances_banlance, overdue_days, overdue_number,
    advances_number, risk_taking_ratio, compensation_amount, compensation_interest,compensation_cause, apply_compensation_date,
    refund_apply_account_id, receive_bank, receive_car_number, receive_account, review_date,
    review_operator, partner_compensation_operator, partner_operation_date, partner_compensation_amount,
    partner_dc_review_operator, partner_dc_review_date, status, remark, gmt_create, gmt_modify
  </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from loan_apply_compensation
        where id = #{id,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from loan_apply_compensation
    where id = #{id,jdbcType=BIGINT}
  </delete>
    <insert id="insert" parameterType="com.yunche.loan.domain.entity.LoanApplyCompensationDO"
            useGeneratedKeys="true" keyColumn="id" keyProperty="id">
    insert into loan_apply_compensation (id, order_id, curr_arrears,
    loan_banlance, advances_banlance, overdue_days,
    overdue_number, advances_number, risk_taking_ratio,
    compensation_amount, compensation_interest,compensation_cause,
    apply_compensation_date, refund_apply_account_id,
    receive_bank, receive_car_number, receive_account,
    review_date, review_operator, partner_compensation_operator,
    partner_operation_date, partner_compensation_amount,
    partner_dc_review_operator, partner_dc_review_date,
    status, remark, gmt_create,
    gmt_modify)
    values (#{id,jdbcType=BIGINT}, #{orderId,jdbcType=BIGINT}, #{currArrears,jdbcType=DECIMAL},
    #{loanBanlance,jdbcType=DECIMAL}, #{advancesBanlance,jdbcType=DECIMAL}, #{overdueDays,jdbcType=INTEGER},
    #{overdueNumber,jdbcType=INTEGER}, #{advancesNumber,jdbcType=INTEGER}, #{riskTakingRatio,jdbcType=DECIMAL},
    #{compensationAmount,jdbcType=DECIMAL}, #{compensationInterest,jdbcType=DECIMAL},#{compensationCause,jdbcType=VARCHAR},
    #{applyCompensationDate,jdbcType=TIMESTAMP}, #{refundApplyAccountId,jdbcType=BIGINT},
    #{receiveBank,jdbcType=VARCHAR}, #{receiveCarNumber,jdbcType=VARCHAR}, #{receiveAccount,jdbcType=VARCHAR},
    #{reviewDate,jdbcType=TIMESTAMP}, #{reviewOperator,jdbcType=VARCHAR}, #{partnerCompensationOperator,jdbcType=VARCHAR},
    #{partnerOperationDate,jdbcType=TIMESTAMP}, #{partnerCompensationAmount,jdbcType=DECIMAL},
    #{partnerDcReviewOperator,jdbcType=VARCHAR}, #{partnerDcReviewDate,jdbcType=TIMESTAMP},
    #{status,jdbcType=TINYINT}, #{remark,jdbcType=VARCHAR}, #{gmtCreate,jdbcType=TIMESTAMP},
    #{gmtModify,jdbcType=TIMESTAMP})
  </insert>
    <insert id="insertSelective" parameterType="com.yunche.loan.domain.entity.LoanApplyCompensationDO"
            useGeneratedKeys="true" keyColumn="id" keyProperty="id">
        insert into loan_apply_compensation
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="orderId != null">
                order_id,
            </if>
            <if test="currArrears != null">
                curr_arrears,
            </if>
            <if test="loanBanlance != null">
                loan_banlance,
            </if>
            <if test="advancesBanlance != null">
                advances_banlance,
            </if>
            <if test="overdueDays != null">
                overdue_days,
            </if>
            <if test="overdueNumber != null">
                overdue_number,
            </if>
            <if test="advancesNumber != null">
                advances_number,
            </if>
            <if test="riskTakingRatio != null">
                risk_taking_ratio,
            </if>
            <if test="compensationAmount != null">
                compensation_amount,
            </if>
            <if test="compensationInterest != null">
                compensation_interest,
            </if>

            <if test="compensationCause != null">
                compensation_cause,
            </if>
            <if test="applyCompensationDate != null">
                apply_compensation_date,
            </if>
            <if test="refundApplyAccountId != null">
                refund_apply_account_id,
            </if>
            <if test="receiveBank != null">
                receive_bank,
            </if>
            <if test="receiveCarNumber != null">
                receive_car_number,
            </if>
            <if test="receiveAccount != null">
                receive_account,
            </if>
            <if test="reviewDate != null">
                review_date,
            </if>
            <if test="reviewOperator != null">
                review_operator,
            </if>
            <if test="partnerCompensationOperator != null">
                partner_compensation_operator,
            </if>
            <if test="partnerOperationDate != null">
                partner_operation_date,
            </if>
            <if test="partnerCompensationAmount != null">
                partner_compensation_amount,
            </if>
            <if test="partnerDcReviewOperator != null">
                partner_dc_review_operator,
            </if>
            <if test="partnerDcReviewDate != null">
                partner_dc_review_date,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="remark != null">
                remark,
            </if>
            <if test="gmtCreate != null">
                gmt_create,
            </if>
            <if test="gmtModify != null">
                gmt_modify,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="orderId != null">
                #{orderId,jdbcType=BIGINT},
            </if>
            <if test="currArrears != null">
                #{currArrears,jdbcType=DECIMAL},
            </if>
            <if test="loanBanlance != null">
                #{loanBanlance,jdbcType=DECIMAL},
            </if>
            <if test="advancesBanlance != null">
                #{advancesBanlance,jdbcType=DECIMAL},
            </if>
            <if test="overdueDays != null">
                #{overdueDays,jdbcType=INTEGER},
            </if>
            <if test="overdueNumber != null">
                #{overdueNumber,jdbcType=INTEGER},
            </if>
            <if test="advancesNumber != null">
                #{advancesNumber,jdbcType=INTEGER},
            </if>
            <if test="riskTakingRatio != null">
                #{riskTakingRatio,jdbcType=DECIMAL},
            </if>
            <if test="compensationAmount != null">
                #{compensationAmount,jdbcType=DECIMAL},
            </if>
            <if test="compensationInterest != null">
                #{compensationInterest,jdbcType=DECIMAL},
            </if>
            <if test="compensationCause != null">
                #{compensationCause,jdbcType=VARCHAR},
            </if>
            <if test="applyCompensationDate != null">
                #{applyCompensationDate,jdbcType=TIMESTAMP},
            </if>
            <if test="refundApplyAccountId != null">
                #{refundApplyAccountId,jdbcType=BIGINT},
            </if>
            <if test="receiveBank != null">
                #{receiveBank,jdbcType=VARCHAR},
            </if>
            <if test="receiveCarNumber != null">
                #{receiveCarNumber,jdbcType=VARCHAR},
            </if>
            <if test="receiveAccount != null">
                #{receiveAccount,jdbcType=VARCHAR},
            </if>
            <if test="reviewDate != null">
                #{reviewDate,jdbcType=TIMESTAMP},
            </if>
            <if test="reviewOperator != null">
                #{reviewOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerCompensationOperator != null">
                #{partnerCompensationOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerOperationDate != null">
                #{partnerOperationDate,jdbcType=TIMESTAMP},
            </if>
            <if test="partnerCompensationAmount != null">
                #{partnerCompensationAmount,jdbcType=DECIMAL},
            </if>
            <if test="partnerDcReviewOperator != null">
                #{partnerDcReviewOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerDcReviewDate != null">
                #{partnerDcReviewDate,jdbcType=TIMESTAMP},
            </if>
            <if test="status != null">
                #{status,jdbcType=TINYINT},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null">
                #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="gmtModify != null">
                #{gmtModify,jdbcType=TIMESTAMP},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.yunche.loan.domain.entity.LoanApplyCompensationDO">
        update loan_apply_compensation
        <set>
            <if test="orderId != null">
                order_id = #{orderId,jdbcType=BIGINT},
            </if>
            <if test="currArrears != null">
                curr_arrears = #{currArrears,jdbcType=DECIMAL},
            </if>
            <if test="loanBanlance != null">
                loan_banlance = #{loanBanlance,jdbcType=DECIMAL},
            </if>
            <if test="advancesBanlance != null">
                advances_banlance = #{advancesBanlance,jdbcType=DECIMAL},
            </if>
            <if test="overdueDays != null">
                overdue_days = #{overdueDays,jdbcType=INTEGER},
            </if>
            <if test="overdueNumber != null">
                overdue_number = #{overdueNumber,jdbcType=INTEGER},
            </if>
            <if test="advancesNumber != null">
                advances_number = #{advancesNumber,jdbcType=INTEGER},
            </if>
            <if test="riskTakingRatio != null">
                risk_taking_ratio = #{riskTakingRatio,jdbcType=DECIMAL},
            </if>
            <if test="compensationAmount != null">
                compensation_amount = #{compensationAmount,jdbcType=DECIMAL},
            </if>
            <if test="compensationInterest != null">
                compensation_interest = #{compensationInterest,jdbcType=DECIMAL},
            </if>

            <if test="compensationCause != null">
                compensation_cause = #{compensationCause,jdbcType=VARCHAR},
            </if>
            <if test="applyCompensationDate != null">
                apply_compensation_date = #{applyCompensationDate,jdbcType=TIMESTAMP},
            </if>
            <if test="refundApplyAccountId != null">
                refund_apply_account_id = #{refundApplyAccountId,jdbcType=BIGINT},
            </if>
            <if test="receiveBank != null">
                receive_bank = #{receiveBank,jdbcType=VARCHAR},
            </if>
            <if test="receiveCarNumber != null">
                receive_car_number = #{receiveCarNumber,jdbcType=VARCHAR},
            </if>
            <if test="receiveAccount != null">
                receive_account = #{receiveAccount,jdbcType=VARCHAR},
            </if>
            <if test="reviewDate != null">
                review_date = #{reviewDate,jdbcType=TIMESTAMP},
            </if>
            <if test="reviewOperator != null">
                review_operator = #{reviewOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerCompensationOperator != null">
                partner_compensation_operator = #{partnerCompensationOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerOperationDate != null">
                partner_operation_date = #{partnerOperationDate,jdbcType=TIMESTAMP},
            </if>
            <if test="partnerCompensationAmount != null">
                partner_compensation_amount = #{partnerCompensationAmount,jdbcType=DECIMAL},
            </if>
            <if test="partnerDcReviewOperator != null">
                partner_dc_review_operator = #{partnerDcReviewOperator,jdbcType=VARCHAR},
            </if>
            <if test="partnerDcReviewDate != null">
                partner_dc_review_date = #{partnerDcReviewDate,jdbcType=TIMESTAMP},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=TINYINT},
            </if>
            <if test="remark != null">
                remark = #{remark,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null">
                gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="gmtModify != null">
                gmt_modify = #{gmtModify,jdbcType=TIMESTAMP},
            </if>
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.yunche.loan.domain.entity.LoanApplyCompensationDO">
    update loan_apply_compensation
    set order_id = #{orderId,jdbcType=BIGINT},
    curr_arrears = #{currArrears,jdbcType=DECIMAL},
    loan_banlance = #{loanBanlance,jdbcType=DECIMAL},
    advances_banlance = #{advancesBanlance,jdbcType=DECIMAL},
    overdue_days = #{overdueDays,jdbcType=INTEGER},
    overdue_number = #{overdueNumber,jdbcType=INTEGER},
    advances_number = #{advancesNumber,jdbcType=INTEGER},
    risk_taking_ratio = #{riskTakingRatio,jdbcType=DECIMAL},
    compensation_amount = #{compensationAmount,jdbcType=DECIMAL},
    compensation_interest = #{compensationInterest,jdbcType=DECIMAL},
    compensation_cause = #{compensationCause,jdbcType=VARCHAR},
    apply_compensation_date = #{applyCompensationDate,jdbcType=TIMESTAMP},
    refund_apply_account_id = #{refundApplyAccountId,jdbcType=BIGINT},
    receive_bank = #{receiveBank,jdbcType=VARCHAR},
    receive_car_number = #{receiveCarNumber,jdbcType=VARCHAR},
    receive_account = #{receiveAccount,jdbcType=VARCHAR},
    review_date = #{reviewDate,jdbcType=TIMESTAMP},
    review_operator = #{reviewOperator,jdbcType=VARCHAR},
    partner_compensation_operator = #{partnerCompensationOperator,jdbcType=VARCHAR},
    partner_operation_date = #{partnerOperationDate,jdbcType=TIMESTAMP},
    partner_compensation_amount = #{partnerCompensationAmount,jdbcType=DECIMAL},
    partner_dc_review_operator = #{partnerDcReviewOperator,jdbcType=VARCHAR},
    partner_dc_review_date = #{partnerDcReviewDate,jdbcType=TIMESTAMP},
    status = #{status,jdbcType=TINYINT},
    remark = #{remark,jdbcType=VARCHAR},
    gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
    gmt_modify = #{gmtModify,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=BIGINT}
  </update>


    <select id="selectByOrderId" parameterType="java.lang.Long" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from loan_apply_compensation
        where order_id = #{orderId,jdbcType=BIGINT}
    </select>

    <select id="selectByOrderIdAndDate" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from loan_apply_compensation
        where order_id = #{orderId,jdbcType=BIGINT}
        AND apply_compensation_date=#{applyCompensationDate,jdbcType=TIMESTAMP}
    </select>

    <select id="selectLastByOrderId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from loan_apply_compensation
        where order_id = #{orderId,jdbcType=BIGINT}
        ORDER BY apply_compensation_date DESC limit 1
    </select>

    <select id="selectByOrderIdAndBankRepayImpRecordId" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from loan_apply_compensation
        where id = #{bank_repay_imp_record_id,jdbcType=BIGINT}
        AND order_id =#{orderId,jdbcType=BIGINT}
    </select>

</mapper>